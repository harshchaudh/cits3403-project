{% extends 'base.html' %}

<!-- Imports view_post.css -->
{% block variable_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='stylesheets/view_post.css') }}">
{% endblock %}

<!-- Sets title for post viewing page -->
{% block title %}
Post: {{ image.caption }}
{% endblock %}

{% block main %}

<div id="image-div">
    <img src="data:image/png;base64, {{ base64_image }}">
</div>

<h4>
    Created by <a class="h4" href=" {{ url_for('picTalk.profile', username=creator.username) }}">{{ creator.username }}</a>
</h4>

<p id="caption">{{ image.caption }}</p>  

<h4>Comments</h4>

<ul class="list-group list-group-flush"></ul>
    {% for comment in comments %}
    <li class="list-group-item">
        <p><strong>{{ comment.user.username }}</strong>: {{ comment.comment }} <span id="timestamp"> {{comment.created_at}} </span></p>
    </li>
    {% endfor %}
</ul>

<form id="form" method="post">
    {{ form.hidden_tag() }}
    <div id="comment-div">
        {{ form.comment() }}
    </div>
    <div id="submit-div">
        {{ form.submit()}}
    </div>
</form>

{% endblock %}